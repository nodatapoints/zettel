\documentclass[a4paper, 12pt]{scrartcl}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[ngerman]{babel}

\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{framed}
\usepackage{float}
\usepackage{mathtools}
\usepackage{marvosym}

\usepackage{tikz}
\usepackage{chngcntr}

\usepackage{amsthm}
\usepackage{thmtools}

\usepackage[left=2cm, right=2cm, top=2cm]{geometry}

\allowdisplaybreaks

\setlength{\parindent}{0pt}

\setkomafont{paragraph}{\normalfont\itshape}


\declaretheoremstyle[%
  spaceabove=0,%
  spacebelow=6pt,%
  headfont=\normalfont\itshape,%
  postheadspace=1em,%
  headpunct={}
]{mystyle}

\declaretheorem[name={Behauptung}, style=mystyle, unnumbered]{theorem}
\declaretheorem[name={Lemma}, style=mystyle]{lemma}
\declaretheorem[name={Voraussetzung}, style=mystyle, unnumbered]{precondition}
\let\proof\oldproof
\declaretheorem[name={Beweis}, style=mystyle, qed=\qedsymbol, unnumbered]{proof}

\newcounter{taski}
\newcounter{taskii}[taski]
\newcounter{taskiii}[taskii]

\newcommand{\task}{\stepcounter{taski}\textbf{Aufgabe \arabic{taski}}}
\newcommand{\ttask}{\stepcounter{taskii}\textbf{(\alph{taskii})}}
\newcommand{\tttask}{\stepcounter{taskiii}\quad(\roman{taskiii})}

\newcommand{\defimpl}[1]{\stackrel{\text{Def.}\;#1}{\Longrightarrow}}
\newcommand{\defImpl}[1]{\stackrel{\text{Def.}\;#1}{\Longleftrightarrow}}
\newcommand{\txtimpl}[1]{\stackrel{\text{#1}}{\Longrightarrow}}
\newcommand{\txtImpl}[1]{\stackrel{\text{#1}}{\Longleftrightarrow}}
\newcommand{\refimpl}[1]{\txtimpl{\eqref{#1}}}
\setcounter{taski}{38}

\newcommand{\pvec}[1]{\ensuremath{\begin{pmatrix}#1\end{pmatrix}}}

\begin{document}
\hfill \textit{Ellen, Kamal}\\
\task

\ttask
\begin{theorem}
\[ 	X \text{ affiner UVR} \ \Longleftrightarrow \forall x,\ y \in X,\ \lambda \in K : x + \lambda(y - x) \in X \]
\end{theorem}
\begin{proof}
``$\Rightarrow$'': Seien beliebige $x,\ y \in X$ , $\lambda \in K$ gegeben.
\begin{align*}
	\defimpl{U}& \quad 0 \in U \Rightarrow 0 + z \in X \Rightarrow X \neq \emptyset \\\\
	X \text{ affiner UVR}\Rightarrow&\quad\exists z \in V,\ \text{UVR } U \subseteq V : X = z + U \\
	\txtimpl{affin}& \quad x-z,\ y-z \in U \\
	\defimpl{U}& \quad x - z + \lambda(y-x) = (x-z) + \lambda((y-z)-(x-z)) \in U \\
	\defimpl{X}& \quad x + \lambda(y-x) = (x - z) + \lambda(y-x) + z \in X
\end{align*}
``$\Leftarrow$'':
$X \neq \emptyset$, also sei $z \in X$ , $X - z \eqqcolon U \subseteq V$
\begin{align*}
	X \neq \emptyset \Rightarrow& \quad U \neq \emptyset \\
	z \in X \Rightarrow& \quad \forall y \in X: z + \lambda(y - z) \in X \\
	\defimpl{U}& \quad \forall y^* \in U: z + \lambda y^* \in X \Rightarrow z + \lambda y^* - z = \lambda y^* \in U \\\\
	&\quad\forall x,\ y \in X: x + \lambda(y - x) = (x-z)+\lambda((y-z)-(x-z)) + z \in X\\
	\Rightarrow& \quad\forall x^*,\ y^* \in U: x^* + \lambda(y^* - x^*) \in U \tag{1} % hardcoded :(
\intertext{Sei f√ºr gegebenes $x^*,\ y^* \in U$ : $\lambda = -1$ , $x' = \frac{1}{2}x^* \in U$ , $y' = -y^* \in U$ \quad $(\frac{1}{2} \cdot 2 = 1~,~2 \neq 0)$}
	\Rightarrow& \quad\forall x^*,\ y^*: \frac{1}{2}x^* - \left(-y^* - \frac{1}{2}x^*\right) = x^* + y^* \in U \tag{2} \\\\
	\txtimpl{(1) (2)}& \quad U \text{ UVR} \Rightarrow X \stackrel{\text{Def.}\ U}{=} U + z \text{ ist affin}
\end{align*}
\end{proof}

\ttask
\[ \left\{ (0,~0),~(0,~1),~(1,~0) \right\} \]

\end{document}